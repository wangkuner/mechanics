\documentclass[12pt]{article}
    % fonts
    \usepackage{ctex}
    \usepackage{fontspec}%set fonts
    \newfontfamily\cnew{Courier New}
    \usepackage{amsmath}
    \usepackage{newtxmath}
    \setmainfont{Times New Roman}

    % paper set
    \usepackage{geometry}%set paper
    \geometry{
        a4paper,
        total={170mm,257mm},
        left=20mm,
        top=20mm,
    }
    % set paragraph format
    %\setlength{\baselineskip}{1.0em}
    \renewcommand{\baselinestretch}{1.0}
    % \usepackage{booktabs} % for three-line table
    \usepackage{array}
    \usepackage[numbers]{gbt7714}
    \numberwithin{equation}{section}

    \title{Classical Mechanics}
    \author{Kun Wang}
    \date{\today}

    \begin{document}
        \maketitle
        \section{牛顿力学}
        \begin{equation}
            F_k=\frac{dp_k}{dt}
        \end{equation}

        \section{Lagrange力学}
        \subsection{基本概念\cite{2006shen}}
        位形空间：位形是质点系各质点或连续体中各小单元的位置或位移的集合。位形坐标系所在空间就是位形空间。\par
        约束：约束分类有理想约束和非理想约束，完整约束/非完整约束，稳定约束/不稳定约束。\\
        理想约束:在任何虚位移上，约束反力的元功之和为零的约束，反之约束反力元功之和不为零的约束为非理想约束。\\
        稳定约束:约束方程中不显含时间$t$的约束，反之显含时间$t$的约束为不稳定约束。\\
        完整约束:约束方程中不含速度或者速度可积分消掉的约束，约束方程中含有不可积分速度的为非完整约束。
        \par
        虚功原理：
        \subsection{第一类Lagrange方程}
	Lagrange乘子法：$3n$个自由度系统，$s$个约束，选择Lagrange乘子，使得$s$个不独立的虚位移前括号中的项为零，
	剩余的$3n-s$个独立的虚位移前括号中的项也都等于零。
        \subsection{第二类Lagrange方程}
        \begin{equation}
            \frac{\partial}{\partial q_k}\left(\frac{d}{dt}\right)=\frac{d}{dt}\left(\frac{\partial}{\partial q_k}\right)
        \end{equation}

	    \subsubsection{Newton方程推导Lagrange方程}
	    \subsubsection{d'Alembert方程推导Lagrange方程}

        \subsubsection{Newton方程和d'Alembert方程的区别}
        Newton方程中的力是所有作用力，包括主动力和约束力。d'Alembert方程中只含有主动力。
        \begin{equation}
            L=T-V
        \end{equation}

        \begin{equation}
            \frac{d}{dt}\left(\frac{\partial L}{\partial \dot{q}_k}\right)-\frac{\partial L}{\partial q_k}=Q_k
        \end{equation}

        \subsection{Lagrange方程首次积分}

        \subsubsection{广义动量积分}
        $L$与$q_k$无关，则有
        \begin{equation}
            \frac{\partial L}{\partial q_k}=0
        \end{equation}
        \begin{equation}
            \frac{d}{dt}\frac{\partial L}{\partial \dot{q}_k}=0
        \end{equation}
        \begin{equation}
            p_k=\frac{\partial L}{\partial \dot{q}_k}=const
        \end{equation}

        \subsubsection{广义能量积分}

        \noindent 1) 稳定约束下的Hamilton积分\\
        $L$与$t$无关，则有
        \begin{equation}
            \begin{aligned}
                \frac{dL}{dt}&=\frac{\partial L}{\partial q_k}\dot{q}_k+\frac{\partial L}{\partial q_k}\ddot{q}_k
                =\frac{\partial L}{\partial q_k}\dot{q}_k+\frac{d}{dt}\left( \frac{\partial L}{\partial \dot{q}_k}\dot{q}_k \right)
                -\frac{d}{dt}\frac{\partial L}{\partial q_k}\dot{q}_k\\
                &=\frac{d}{dt}\left( \frac{\partial L}{\partial \dot{q}_k}\dot{q}_k \right)
                -\left( \frac{d}{dt}\frac{\partial L}{\partial q_k}-\frac{\partial L}{\partial q_k} \right)\dot{q}_k
                =\frac{d}{dt}\left( \frac{\partial L}{\partial \dot{q}_k}\dot{q}_k \right)
            \end{aligned}
        \end{equation}
        \begin{equation}
           \frac{d}{dt}\left( \dot{q}_k\frac{\partial L}{\partial \dot{q}_k}-L \right)=0 
        \end{equation}
        \begin{equation}
           H(q-k,\dot{q}_k,t)=\dot{q}_k\frac{\partial L}{\partial \dot{q}_k}-L=const 
        \end{equation}

        \subsection{变分问题Euler方程}
        \begin{equation}
            J=\int_A^Bf(y,\dot{y},x)dx
        \end{equation}
        求上式的极值。

        \subsection{Hamilton原理}
        % \bibliographystyle{plain}
        \bibliography{cm}
    \end{document}
